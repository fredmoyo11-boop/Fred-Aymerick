<h2 style="text-align: center">Angebote f√ºr deine Fahranfrage</h2>


<div class="scroll-wrapper">
  <table mat-table [dataSource]="dataSource" matSort>

    <ng-container matColumnDef="firstName">
      <mat-header-cell *matHeaderCellDef> Vorname</mat-header-cell>
      <mat-cell *matCellDef="let offer"> {{ offer.driver.firstName }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="lastName">
      <mat-header-cell *matHeaderCellDef> Nachname</mat-header-cell>
      <mat-cell *matCellDef="let offer"> {{ offer.driver.lastName }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="username">
      <mat-header-cell *matHeaderCellDef class="username-cell"> Benutzername</mat-header-cell>
      <mat-cell *matCellDef="let offer" class="username-cell"> {{ offer.driver.username }}</mat-cell>
    </ng-container>


    <ng-container matColumnDef="rating">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Bewertung</mat-header-cell>
      <mat-cell
        *matCellDef="let offer"> {{ offer.driverStatistics.averageRating | number: '1.2-2' }}
      </mat-cell>
    </ng-container>


    <ng-container matColumnDef="totalDriveCount">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Fahrten</mat-header-cell>
      <mat-cell *matCellDef="let offer"> {{ offer.driverStatistics.totalTrips }}</mat-cell>
    </ng-container>


    <ng-container matColumnDef="driveDistance">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Distanz</mat-header-cell>
      <mat-cell *matCellDef="let offer"> {{ offer.driverStatistics.totalDistance | meterToKm }}</mat-cell>
    </ng-container>


    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef class="actions-cell"> Aktionen</mat-header-cell>
      <mat-cell *matCellDef="let offer" class="actions-cell">
        <div class="button-row">
          <button mat-icon-button (click)="acceptOffer(offer.id)">
            <mat-icon>check</mat-icon>
          </button>
          <button mat-icon-button (click)="declineOffer(offer.id)">
            <mat-icon>close</mat-icon>
          </button>
          <button mat-icon-button (click)="navigateToTripOffer(offer.id)">
            <mat-icon>chat</mat-icon>
          </button>
        </div>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </table>
</div>
@if (dataSource.data.length === 0) {
  <p style="text-align: center">Keine Fahrtangebote!</p>
}
